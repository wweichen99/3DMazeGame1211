根据我的毕设主题需要，对这个项目进行修改，请保留当前这个项目的所有功能，只额外增加移动时的透视功能(类似截图论文中的可以视线穿透墙体的功能)，新功能不会影响原有所有功能的使用。请一步步修改，给我完整的新项目。